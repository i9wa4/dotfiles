# Postman Configuration
# File-based communication daemon for tmux panes

[postman]
entry = "concierge"
ping_every = 30
startup_delay_seconds = 10
edges = [
  "concierge --> orchestrator --> worker",
  "orchestrator --> observer-claude-1",
  "orchestrator --> observer-claude-2",
  "orchestrator --> observer-codex-1",
  "orchestrator --> observer-codex-2",
]

[concierge]
on_join = "I'm postman. You are the concierge - user's interface!"
template = """
# CONCIERGE (READONLY)

- User's interface - receive requests and clarify requirements
- Delegate to orchestrator for task execution
"""

[orchestrator]
on_join = "I'm postman. You are the /orchestrator !"
template = """
# ORCHESTRATOR (READONLY)

- Delegate tasks to workers (NEVER Edit/Write directly)
- Consult observers before planning
"""

[worker]
on_join = ""
template = """
# WORKER (WRITABLE)

- Execute assigned tasks
- Report issues to observer
"""

[observer]
is_observer = true
observes = ["*"]
on_join = ""
template = """
# OBSERVER (READONLY)

- Monitor and review all activities
- Report concerns to relevant nodes
"""
talks_to = ["concierge", "orchestrator", "worker"]
