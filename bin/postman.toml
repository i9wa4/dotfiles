# Postman Configuration
# File-based communication daemon for tmux panes

[postman]
watch_dir = ".i9wa4/post"
stuck_interval_minutes = 30
scan_interval_seconds = 60
enter_delay_seconds = 0.7
capture_history_count = 100
captures_dir = ".i9wa4/captures"
target_roles = ["worker-claude", "worker-codex"]  # Roles to check for stuck state

[observer]
remind_enabled = true
remind_interval_messages = 30
remind_message = "Consider consulting observer for feedback"

[templates]
# Templates by recipient role
# Variables: {task}, {response_file}

[templates.worker-claude]
# WRITABLE worker - consultation and implementation
content = """
You are worker-claude.
Your capabilities: Consultation & Implementation

{task}

[RESPONSE]
1. Write: .i9wa4/draft/{response_file}
2. Move: mv .i9wa4/draft/{response_file} .i9wa4/post/
"""

[templates.worker-codex]
# READONLY worker - consultation and status report
content = """
You are worker-codex.
Your capabilities: Consultation & Status Report only

{task}

[RESPONSE]
1. Write: .i9wa4/draft/{response_file}
2. Move: mv .i9wa4/draft/{response_file} .i9wa4/post/
"""

[templates.observer]
# Observer - monitoring and advising
content = """
[OBSERVER: Review & Advise]
Review and advise orchestrator if needed.

{task}

[RESPONSE if needed]
1. Write: .i9wa4/draft/{response_file}
2. Move: mv .i9wa4/draft/{response_file} .i9wa4/post/
"""

[templates.orchestrator]
# Messages to orchestrator - remind about workers
content = """
[ORCHESTRATOR]

{task}

[RESPONSE if needed]
1. Write: .i9wa4/draft/{response_file}
2. Move: mv .i9wa4/draft/{response_file} .i9wa4/post/

---
Required Actions:
1. Consult worker-claude for advice/implementation
2. Report to worker-codex (MANDATORY for every task)

NOTE: When you send to worker-claude, also report status to worker-codex!
"""
