# レイアウトガイドライン

## 1. AWS アーキテクチャ図

### 1.1. グループ化の原則

- AWS Cloud グループを最外層とする
- 機能単位でサブグループを作成
- グループは横並びを基本とし、データフローに沿って配置

```text
AWS Cloud (最外層)
├── VPC
│   ├── Public Subnet
│   │   └── ALB, NAT Gateway など
│   └── Private Subnet
│       └── ECS, RDS など
├── S3
├── CloudWatch
└── その他のサービス
```

### 1.2. 接続線のルール

| フロー種別      | 線種 | 用途         |
| --------------- | ---- | ------------ |
| Ingestion Flow  | 破線 | データ取り込み |
| Query Flow      | 実線 | クエリ・参照 |
| Control Flow    | 点線 | 制御・管理   |

- 矢印はデータの流れる方向に従う
- 双方向通信は単方向矢印2本を推奨

### 1.3. 配置の原則

左から右へのフロー (基本):

```text
[データソース] → [処理] → [ストレージ] → [分析/可視化]
```

上から下へのフロー (代替):

```text
[ユーザー/クライアント]
        ↓
[ロードバランサー]
        ↓
[アプリケーション]
        ↓
[データベース]
```

## 2. スライド図解パターンカタログ

既存スライドから抽出した再利用可能なレイアウトパターン。
図解作成時はこのカタログから最適なパターンを選択する。

### 2.1. 比較パターン

#### A. 左右比較パネル

2つの概念を横並びで対比する。

```text
┌─────── 適している ───────┐  ┌───── 適していない ─────┐
│ ┌─────────────────────┐ │  │ ┌─────────────────────┐│
│ │ 項目1               │ │  │ │ 項目1               ││
│ ├─────────────────────┤ │  │ ├─────────────────────┤│
│ │ 項目2               │ │  │ │ 項目2               ││
│ └─────────────────────┘ │  │ └─────────────────────┘│
└─────────────────────────┘  └────────────────────────┘
```

- 左: Success 色 (肯定的) / 右: Danger 色 (否定的)
- 下部に Note 色で補足ボックスを追加可能

#### B. Before/After (上下2段)

改善効果を時系列で示す。

```text
┌────────── Before (赤系背景) ──────────┐
│ [Step1] → [Step2] → [Step3] → [合計] │
└───────────────────────────────────────┘
┌────────── After (緑系背景) ───────────┐
│ [Step1] → [Step2] → [合計]           │
└───────────────────────────────────────┘
```

- Before: Danger 背景 + Warning ステップ
- After: Success 背景 + Success ステップ
- 合計時間・コストを右端に明示

#### C. 3カラム比較テーブル

マッピングや対応関係を示す。

```text
┌──────────┬──────────┬──────────┐
│ ヘッダ1  │ ヘッダ2  │ ヘッダ3  │
├──────────┼──────────┼──────────┤
│ 項目     │ 項目     │ 項目     │
├──────────┼──────────┼──────────┤
│ 項目     │ 項目     │ 項目     │
└──────────┴──────────┴──────────┘
```

- 各カラムに異なる色役割を割り当て
- 矢印 "→" で方向性を示す場合あり

### 2.2. フロー/プロセスパターン

#### D. 水平ステップフロー

段階的な手順やプロセスを示す。

```text
  ①          ②          ③
┌────┐    ┌────┐    ┌────┐
│Step│ →  │Step│ →  │Step│
│    │    │    │    │    │
└────┘    └────┘    └────┘
┌──────── 補足・コードブロック ────────┐
│ export VAR=value                    │
└─────────────────────────────────────┘
┌──────── Takeaway (Note色) ──────────┐
│ 要点メッセージ                      │
└─────────────────────────────────────┘
```

- 各ステップに番号バッジ (circle, filled stroke, white text)
- ステップごとに異なる色役割を割り当て
- 下部に Neutral 色でコード例、Note 色で要点

#### E. マルチカラム構成図

システム構成を左から右へ展開する。

```text
┌─── 左パネル ───┐     ┌─── 中央パネル ───┐     ┌─── 右パネル ───┐
│ ┌───────────┐  │     │ ┌─────────────┐  │     │ ┌───────────┐  │
│ │ 内部要素  │  │ ──→ │ │ 機能1       │  │ ──→ │ │ 要素1     │  │
│ ├───────────┤  │     │ ├─────────────┤  │     │ ├───────────┤  │
│ │ 内部要素  │  │     │ │ 機能2       │  │     │ │ 要素2     │  │
│ └───────────┘  │     │ └─────────────┘  │     │ └───────────┘  │
└────────────────┘     └─────────────────┘     └────────────────┘
┌──────────── Takeaway (Primary色) ─────────────┐
│ 要点メッセージ                                │
└───────────────────────────────────────────────┘
```

- 各パネルに異なる色役割
- パネル間は太い矢印 (strokeWidth=4)
- 下部にまとめバー

#### F. 垂直フロー + 分岐

Git フロー風の分岐・統合を示す。

```text
       [設定ファイル]
            ↓
    ┌───────┴───────┐
    ↓               ↓
[ローカル]      [CI/CD]
    ↓               ↓
    └───────┬───────┘
            ↓
        [PR/レビュー]
            ↓
        [main]
```

- 主線を太く (strokeWidth=3)、分岐を細く
- 強調ポイントに色付き枠 (Danger stroke)

### 2.3. 集約/分解パターン

#### G. 複数 → 統合結果

複数の入力が1つの結果に集約される。

```text
┌────┐ ┌────┐ ┌────┐ ┌────┐
│Sol1│ │Sol2│ │Sol3│ │Sol4│
└──┬─┘ └──┬─┘ └──┬─┘ └──┬─┘
   └───┬───┴───┬──┘      │
       ↓       ↓         ↓
┌───────────── 統合結果 ──────────────┐
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐  │
│ │特徴1│ │特徴2│ │特徴3│ │特徴4│  │
│ └─────┘ └─────┘ └─────┘ └─────┘  │
└─────────────────────────────────────┘
```

- 入力はそれぞれ異なる色役割
- 結果ボックスは強調色 (accent stroke)
- 内部特徴カードは白背景

#### H. 中央 + 放射 (問題提示)

中心アイコンの周囲に問題・特徴を配置する。

```text
        ┌────────┐
        │ 問題1  │
        └───┬────┘
            ↓
┌────┐  ┌──────┐  ┌────┐
│問題2│→ │ 中央 │ ←│問題3│
└────┘  └──────┘  └────┘
            ↑
        ┌───┴────┐
        │ 問題4  │
        └────────┘
```

- 中央にアイコン (絵文字 or 人物)
- 周囲ボックスは統一色 (Warning or Danger)
- 矢印は破線 (dashed) で問題から中央へ

### 2.4. カード/指標パターン

#### I. 横並びカード (KPI/指標)

独立した指標を並列表示する。

```text
┌──── 指標1 ────┐ ┌──── 指標2 ────┐ ┌──── 指標3 ────┐
│ アイコン      │ │ アイコン      │ │ アイコン      │
│ タイトル      │ │ タイトル      │ │ タイトル      │
│ Before → After│ │ Before → After│ │ Before → After│
│ ┌改善値─────┐ │ │ ┌改善値─────┐ │ │ ┌改善値─────┐ │
│ │ XX% 改善  │ │ │ │ XX% 改善  │ │ │ │ XX% 改善  │ │
│ └───────────┘ │ │ └───────────┘ │ │ └───────────┘ │
└───────────────┘ └───────────────┘ └───────────────┘
```

- 各カードに異なる色役割
- 改善値は Success 色で強調

### 2.5. 階層/構造パターン

#### J. 多層アーキテクチャ図

ユーザー層から基盤層まで垂直に展開する。

```text
┌──── ユーザー5種類 ────────────────────────┐
│ [型1] [型2] [型3] [型4] [型5]            │
└──────────────────────────────────────────┘
┌──── 機能レイヤー ────────────────────────┐
│ ┌────┐ ┌────┐ ┌────┐ ┌──────────────┐  │
│ │開発│ │ML  │ │SQL │ │Consumer      │  │
│ └────┘ └────┘ └────┘ └──────────────┘  │
├──── 共有レイヤー ────────────────────────┤
│ [Compute] [Storage]                      │
└──────────────────────────────────────────┘
┌──── 基盤レイヤー ────────────────────────┐
│ [ガバナンス/カタログ]                    │
└──────────────────────────────────────────┘
```

- 各機能セクションに異なる色役割
- 共有レイヤーは Neutral 色
- 基盤は Note 色 (重要性を示す)

#### K. 3列マッピング

左の要素と右の要素の関係を中央で可視化する。

```text
┌──左──┐     ┌──中央──┐     ┌──右──┐
│ロール1│ ──→ │権限A   │ ──→ │機能X │
│ロール2│ ──→ │権限B   │ ──→ │機能Y │
│ロール3│ ──→ │権限C   │ ──→ │機能Z │
└──────┘     └────────┘     └──────┘
```

- 左・中央・右でそれぞれ色役割を変える
- 矢印色はソース要素の色に合わせる

## 3. 視認性の確保

- ラベルは要素の近くに配置
- 矢印が交差しないように配置を調整
- 関連する要素はグループ化して近くに配置
- 余白を適切に確保して見やすくする
- スライド図解では下部に必ず Takeaway バーを配置
