---
description: "Summarize Reviews"
---

# summarize-reviews

このファイルを読んだらレビュー結果を集約する

## 1. 手順

1. `.i9wa4/` ディレクトリの君以外のペインのレビュー結果を読み込む
2. PRのコメント・レビューを取得し、既に指摘済みの内容を把握する
    - `gh pr view <number> --json comments,reviews` で取得
3. 各ペインの指摘を以下の3カテゴリに分類する
    - 指摘必要: 新規指摘かつ実害がある (下流への影響、データ欠損など)
    - 指摘不要: 新規指摘だが許容範囲 (設計判断、低優先度など)
    - 指摘済み: CodeRabbit等が既にPRでコメント済み
4. `.i9wa4/YYYYMMDD-all-reviews.md` に集約して出力する

## 2. 出力フォーマット

```markdown
# PR #XXX 統合レビュー結果

## 指摘必要 (新規・実害あり)

| # | 重要度 | 指摘タイトル | 指摘者 | 理由 |
|---|--------|-------------|--------|------|
| 1 | 高 | ... | p2, p3 | 下流BIが壊れる |

## 指摘不要 (新規・許容範囲)

| # | 重要度 | 指摘タイトル | 指摘者 | 理由 |
|---|--------|-------------|--------|------|
| 1 | 中 | ... | p1 | 設計判断として許容 |

## 指摘済み (CodeRabbit等)

| 指摘タイトル | 指摘元 | 状態 |
|-------------|--------|------|
| Boolean型変換の問題 | CodeRabbit | 未対応 |

## 指摘詳細
...
```

## 3. 分類基準

### 指摘必要の判断基準

- 下流のクエリやダッシュボードが壊れる可能性
- データ欠損や不整合が発生する可能性
- セキュリティ上の問題
- 後方互換性の破壊

### 指摘不要の判断基準

- 設計判断として許容される範囲
- パフォーマンス改善などの効果が既にある
- 低優先度で実害が少ない
- 確認程度の内容
